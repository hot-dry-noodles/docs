#武汉地铁模拟运行系统 

这里其实也不是什么需求分析，是写了一下我们要实现的功能。

##一. 购票系统功能描述

###1.1 购票
用户通过触摸屏幕可以查询任何线路上的任意站点信息。用户根据屏幕上的操作提示进行相应的点击操作，确认购票数量、应付金额后，从硬币入口处、纸币入口处投币或扫码付款，点击付款后售票机自动出票、找零。 
**附加功能：** 用户选好终点后，在屏幕上显示到达终点预计需要的时间。

**操作流程** 
①选择线路 → 显示线路上的所有站名 → 点击站名 → 显示购票界面 → 选择购票张数 → 确认购票数量、应付金额 → 投币或扫码 → 出票、找零  

②直接点击站名 → 显示购票界面 → 选择购票张数 → 确认购票数量、应付金额 → 投币或扫码 → 出票、找零

②输入站名 → 显示购票界面 → 选择购票张数 → 确认购票数量、应付金额 → 投币或扫码 → 出票、找零

###1.2 武汉通充值和购买

用户可通过售票机充值武汉通，但卡内最大储值金额不得超过500元。购买武汉通时，不同的卡有不同的价格。
**操作流程** 
①购买：展示卡面和价格 → 点击卡片，并选择购买 → 投币或扫码 → 出票、找零
②充值：提示插入一卡通 → 显示卡内余额 → 投币或扫码 → 出票、找零

##二. 管理系统功能描述 

正常情况下地铁系统在后台运行，根据后台存储的运行时间数据自动进行调度。当发生新情况，例如需要增加地铁线路、增开地铁、关闭地铁站、关闭某条线路时，管理员可通过管理系统对地铁系统进行管理。

### 2.1 自动调度

按照设定的发车次数或发车时间间隔，并根据里程、速度和停站时间，在后台自动计算每一趟列车的发车时间和到达每一站的时间。在用户购票时，获取系统时间，对比列车运行时间和到站时间，计算出用户到达重点预计需要的时间。

### 2.2 增加地铁线路

当有新的地铁线路时，管理员在管理系统中输入这条线路的路线名、站名、每一站在武汉市地图上的位置、线路中每一段的长度、发车时间间隔，系统根据这些信息，更新地图，重新计算修改后所有的两站之间的最短距离，重新制定票价。

### 2.3 增开地铁

在出现特殊情况时，可能需要增开地铁。例如，武汉大学开学时，增开二号线地铁，从武汉站直达街道口）。管理员输入需要增开的地铁的相关信息：起点、终点、是否停站、发车时间，后台实现重新调度。

### 2.4 关闭/恢复地铁站或关闭/恢复线路

出现事故或者洪水等自然灾害时，可能需要关闭地铁站或者关闭整个线路。例如长沙发生洪水时，橘子洲被淹，橘子洲地铁站关闭，地铁正常通过橘子洲站但不停车。如果某段地铁出现故障，则应该封锁整条线。地铁管理员在后台输入关闭的站名，改站在地图中变为灰色，乘客不能买到这一站的票。如果关闭一条线路，则地图中该线路变成灰色。恢复则相反。

